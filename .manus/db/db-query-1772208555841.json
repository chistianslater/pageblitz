{
  "query": "\nCREATE TABLE IF NOT EXISTS subscriptions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  website_id INT NOT NULL,\n  user_id INT NOT NULL,\n  stripe_customer_id VARCHAR(255),\n  stripe_subscription_id VARCHAR(255),\n  status ENUM('active', 'canceled', 'past_due', 'trialing', 'incomplete') NOT NULL DEFAULT 'incomplete',\n  plan VARCHAR(50) NOT NULL DEFAULT 'base',\n  add_ons JSON,\n  current_period_end BIGINT,\n  created_at BIGINT NOT NULL,\n  updated_at BIGINT NOT NULL,\n  INDEX idx_website_id (website_id),\n  INDEX idx_user_id (user_id),\n  INDEX idx_stripe_subscription_id (stripe_subscription_id)\n);\n\nCREATE TABLE IF NOT EXISTS onboarding_responses (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  website_id INT NOT NULL UNIQUE,\n  status ENUM('pending', 'in_progress', 'completed') NOT NULL DEFAULT 'pending',\n  step_current INT NOT NULL DEFAULT 0,\n  business_name VARCHAR(255),\n  tagline VARCHAR(255),\n  description TEXT,\n  founded_year INT,\n  team_size VARCHAR(50),\n  usp TEXT,\n  top_services JSON,\n  target_audience TEXT,\n  faq_items JSON,\n  logo_url VARCHAR(1024),\n  photo_urls JSON,\n  legal_owner VARCHAR(255),\n  legal_street VARCHAR(255),\n  legal_zip VARCHAR(20),\n  legal_city VARCHAR(255),\n  legal_country VARCHAR(100) DEFAULT 'Deutschland',\n  legal_email VARCHAR(255),\n  legal_phone VARCHAR(100),\n  legal_vat_id VARCHAR(100),\n  legal_register VARCHAR(255),\n  legal_register_court VARCHAR(255),\n  legal_responsible VARCHAR(255),\n  add_on_contact_form BOOLEAN DEFAULT FALSE,\n  add_on_gallery BOOLEAN DEFAULT FALSE,\n  add_on_subpages JSON,\n  completed_at BIGINT,\n  created_at BIGINT NOT NULL,\n  updated_at BIGINT NOT NULL,\n  INDEX idx_website_id (website_id)\n);\n\nALTER TABLE generated_websites \n  ADD COLUMN IF NOT EXISTS onboarding_status ENUM('pending', 'in_progress', 'completed') DEFAULT 'pending',\n  ADD COLUMN IF NOT EXISTS has_legal_pages BOOLEAN DEFAULT FALSE,\n  ADD COLUMN IF NOT EXISTS subscription_status ENUM('none', 'active', 'canceled', 'past_due') DEFAULT 'none';\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3Chfak3oyAuqdS1.3559b6fd90a8 --database apEw6nxjMUWAAnU5iycQLf --execute \nCREATE TABLE IF NOT EXISTS subscriptions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  website_id INT NOT NULL,\n  user_id INT NOT NULL,\n  stripe_customer_id VARCHAR(255),\n  stripe_subscription_id VARCHAR(255),\n  status ENUM('active', 'canceled', 'past_due', 'trialing', 'incomplete') NOT NULL DEFAULT 'incomplete',\n  plan VARCHAR(50) NOT NULL DEFAULT 'base',\n  add_ons JSON,\n  current_period_end BIGINT,\n  created_at BIGINT NOT NULL,\n  updated_at BIGINT NOT NULL,\n  INDEX idx_website_id (website_id),\n  INDEX idx_user_id (user_id),\n  INDEX idx_stripe_subscription_id (stripe_subscription_id)\n);\n\nCREATE TABLE IF NOT EXISTS onboarding_responses (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  website_id INT NOT NULL UNIQUE,\n  status ENUM('pending', 'in_progress', 'completed') NOT NULL DEFAULT 'pending',\n  step_current INT NOT NULL DEFAULT 0,\n  business_name VARCHAR(255),\n  tagline VARCHAR(255),\n  description TEXT,\n  founded_year INT,\n  team_size VARCHAR(50),\n  usp TEXT,\n  top_services JSON,\n  target_audience TEXT,\n  faq_items JSON,\n  logo_url VARCHAR(1024),\n  photo_urls JSON,\n  legal_owner VARCHAR(255),\n  legal_street VARCHAR(255),\n  legal_zip VARCHAR(20),\n  legal_city VARCHAR(255),\n  legal_country VARCHAR(100) DEFAULT 'Deutschland',\n  legal_email VARCHAR(255),\n  legal_phone VARCHAR(100),\n  legal_vat_id VARCHAR(100),\n  legal_register VARCHAR(255),\n  legal_register_court VARCHAR(255),\n  legal_responsible VARCHAR(255),\n  add_on_contact_form BOOLEAN DEFAULT FALSE,\n  add_on_gallery BOOLEAN DEFAULT FALSE,\n  add_on_subpages JSON,\n  completed_at BIGINT,\n  created_at BIGINT NOT NULL,\n  updated_at BIGINT NOT NULL,\n  INDEX idx_website_id (website_id)\n);\n\nALTER TABLE generated_websites \n  ADD COLUMN IF NOT EXISTS onboarding_status ENUM('pending', 'in_progress', 'completed') DEFAULT 'pending',\n  ADD COLUMN IF NOT EXISTS has_legal_pages BOOLEAN DEFAULT FALSE,\n  ADD COLUMN IF NOT EXISTS subscription_status ENUM('none', 'active', 'canceled', 'past_due') DEFAULT 'none';\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 1456
}